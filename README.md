## Lambda Subscription FastAPI

[![API Docs](https://img.shields.io/badge/API-Docs-blue?style=flat-square)](https://gitdocify.com/readme/subscribtion_lambda_db)

## Overview

Lambda Subscription is a backend API built with **FastAPI** that handles:

- Authentication
- Customers
- Products
- Subscriptions
- Scheduling
- Transactions (including transaction details and failures)
- Lambda simulation endpoints

It uses **MySQL** as the database, **SQLAlchemy** for ORM, and **APScheduler** for scheduled tasks.

## Features

- JWT-based authentication
- Full CRUD for customers, products, subscriptions, and transactions
- Automatic and manual Lambda simulation endpoints
- Swagger UI documentation
- Background scheduler for automated tasks



# Lambda_DB Project

A FastAPI-based application with a modular architecture for handling authentication, customer management, product catalog, subscription scheduling, and transaction processing. The project is containerized with Docker and supports CI/CD pipelines via GitHub Actions.

---

## 📂 Project Structure

```
app/
 ├── auth/                 # Authentication handlers (JWT, Bearer tokens)
 ├── crud/                 # CRUD operations for all models
 ├── models/               # SQLAlchemy models (DB tables)
 ├── routers/              # FastAPI route definitions
 ├── schemas/              # Pydantic schemas for request/response validation
 ├── test/                 # Unit tests for all modules
 ├── utils/                # Helper utilities (password hashing, lambdas)
 ├── create_tables.py      # Script to create DB tables
 ├── db.py                 # Database connection setup
 ├── main.py               # FastAPI entrypoint
 ├── settings.py           # Project settings/config
docker-compose.dev.yml     # Docker setup for development
docker-compose.prod.yml    # Docker setup for production
Dockerfile                 # Build definition for FastAPI app
requirements.txt           # Python dependencies
requirements-dev.txt       # Development dependencies
README.md                  # Project documentation
```

---

## 🚀 Getting Started

### Prerequisites

* Python 3.11+
* Docker & Docker Compose
* MySQL (if not running in Docker)

### 1. Clone the repository

```bash
git clone https://github.com/your-username/lambda_db.git
cd lambda_db
```

### 2. Setup virtual environment (optional)

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
```

### 4. Run with Docker (development)

```bash
docker-compose -f docker-compose.dev.yml up --build
```

### 5. Run database migrations (if using Alembic or similar)

```bash
# Example if migrations are added later
alembic upgrade head
```

---

## 🧪 Running Tests

Unit tests are available in the `app/test/` folder.

Run tests locally:

```bash
pytest
```

Run tests inside Docker:

```bash
docker-compose -f docker-compose.dev.yml exec fastapi pytest
```

---

## ⚙️ Environment Variables

Define these in a `.env` file:

```
DATABASE_URL=mysql+pymysql://root:password@db:3306/lambda_db
SECRET_KEY=your-secret-key
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
```

---

## 📦 Deployment

1. Build and push Docker image:

   ```bash
   docker build -t your-dockerhub-username/lambda_db .
   docker push your-dockerhub-username/lambda_db
   ```

2. Deploy to AWS (ECS, EKS, or EC2 with Docker).

---

## ✅ Features

* Authentication (JWT, Bearer)
* Customer management
* Product catalog
* Subscriptions & schedules
* Transaction handling (details & failures)
* Unit testing
* Dockerized setup
* GitHub Actions CI/CD pipeline

---

## 🛠️ Roadmap

* Add Alembic for migrations
* Expand test coverage
* Integrate monitoring/logging
* Deploy staging environment
* Add API documentation via Swagger (auto-generated by FastAPI at `/docs`)

